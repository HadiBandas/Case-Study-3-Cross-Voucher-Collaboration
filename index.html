<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategic Cross-Promotion Initiative Report</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <style>
        /* CSS Custom Properties for Theming */
        :root {
            --bg: #F0F2F5; /* Light Gray from perbaikan.html */
            --text: #333; /* Dark Gray from perbaikan.html */
            --accent: #007bff; /* Blue as requested */
            --accent-darker: #0056b3; /* Darker shade of blue */
            --card-bg: #F0F2F5; /* Same as bg for light neumorphic from perbaikan.html */
            --card-shadow-light: #d1d9e6; /* From perbaikan.html */
            --card-shadow-dark: #b8c2d1; /* From perbaikan.html */
            --neumorphic-inset-light: #cad1d9; /* From perbaikan.html */
            --neumorphic-inset-dark: #e9f0f7; /* From perbaikan.html */
            --button-shadow-color: rgba(0, 123, 255, 0.3); /* Derived from new accent */
            --button-hover-shadow-color: rgba(0, 123, 255, 0.5); /* Derived from new accent */
            --glass-bg: rgba(255, 255, 255, 0.6); /* Kept for chart-container transparency */
            --glass-border: rgba(255, 255, 255, 0.8); /* Kept for chart-container border */
            --header-shadow: rgba(0,0,0,0.05); /* From perbaikan.html */
            --scroll-bg: #E9ECEF; /* From perbaikan.html */
            --positive-color: #28A745; /* Keep existing */
            --negative-color: #DC3545; /* Keep existing */
            --neutral-color: #6C757D; /* Keep existing */
            --toggle-bg: #F0F2F5; /* Match bg */
            --toggle-circle: #FFFFFF; /* Keep existing */
            --toggle-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Keep existing */
            --text-rgb-values: 51, 51, 51; /* Match --text */
        }

        html[data-theme='dark'] {
            --bg: #000000; /* Pure black as requested */
            --text: #C4C7D0; /* From perbaikan.html */
            --accent: #66b2ff; /* Blue adapted for dark mode from perbaikan.html */
            --accent-darker: #007bff; /* Darker shade of blue for dark mode */
            --card-bg: #2A2E3D; /* Darker than pure black bg for neumorphic effect from perbaikan.html */
            --card-shadow-light: #1c1f28; /* From perbaikan.html */
            --card-shadow-dark: #32374c; /* From perbaikan.html */
            --neumorphic-inset-light: #282b3a; /* From perbaikan.html */
            --neumorphic-inset-dark: #222533; /* From perbaikan.html */
            --button-shadow-color: rgba(102, 178, 255, 0.3); /* Derived from new accent */
            --button-hover-shadow-color: rgba(102, 178, 255, 0.5); /* Derived from new accent */
            --glass-bg: rgba(42, 46, 61, 0.6); /* Kept for chart-container transparency */
            --glass-border: rgba(255, 255, 255, 0.1); /* Kept for chart-container border */
            --header-shadow: rgba(0,0,0,0.3); /* From perbaikan.html */
            --scroll-bg: #222238; /* From perbaikan.html */
            --positive-color: #2ECC71; /* Keep existing */
            --negative-color: #E74C3C; /* Keep existing */
            --neutral-color: #ADB5BD; /* Keep existing */
            --toggle-bg: #222533; /* Match perbaikan.html's original dark bg */
            --toggle-circle: #E0E0E0; /* Keep existing */
            --text-rgb-values: 196, 199, 208; /* Match --text */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background-color: var(--bg);
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
            padding-top: 70px; /* Space for the fixed header */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Fixed Header */
        .fixed-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--card-bg); /* Use card background for header */
            box-shadow: 0 2px 10px var(--header-shadow); /* Subtle shadow */
            z-index: 1000; /* High z-index to stay on top */
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--glass-border); /* Subtle border */
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }

        .header-left, .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-title {
            font-size: 1.2em;
            font-weight: 700;
            color: var(--text);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        .header-title:hover {
            color: var(--accent);
        }

        /* Refined Neumorphic/Glassmorphism Styles */
        .neumorphic-panel {
            background-color: var(--card-bg);
            border-radius: 16px; /* Slightly smaller radius for elegance */
            box-shadow: 6px 6px 12px var(--card-shadow-light), -6px -6px 12px var(--card-shadow-dark); /* Softer shadows */
            transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
        }

        .neumorphic-panel:hover {
            transform: translateY(-3px); /* Subtle lift on hover */
            box-shadow: 8px 8px 16px var(--card-shadow-light), -8px -8px 16px var(--card-shadow-dark); /* Slightly more pronounced shadow on hover */
        }

        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            /* Fallback for browsers not supporting backdrop-filter */
            background-color: var(--card-bg);
        }

        /* Apply neumorphic-panel to relevant sections, glass-panel only for charts */
        .report-header, .section, .metric-card, .problem-box, .solution-box, .key-insights, .performance-indicator {
            padding: 30px;
            margin-bottom: 30px;
            color: var(--text);
        }

        .report-header {
            text-align: center;
            padding: 40px;
        }
        
        .report-title {
            font-size: 2.8em; /* Slightly larger title */
            font-weight: 800; /* Bolder title */
            background: linear-gradient(135deg, var(--accent), var(--accent-darker));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .report-subtitle {
            font-size: 1.4em; /* Slightly larger subtitle */
            color: var(--neutral-color);
            margin-bottom: 25px;
        }
        
        .author-info {
            background: linear-gradient(45deg, var(--accent), var(--accent-darker));
            color: white;
            padding: 12px 25px; /* Slightly smaller padding */
            border-radius: 40px; /* More rounded */
            display: inline-block;
            font-weight: 600;
            font-size: 0.95em;
        }
        
        .section-title {
            font-size: 2em; /* Slightly larger section title */
            font-weight: 700;
            color: var(--text);
            margin-bottom: 25px; /* More space */
            padding-bottom: 12px; /* Thicker border */
            border-bottom: 4px solid var(--accent);
            text-align: center;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* Slightly smaller min-width */
            gap: 20px;
            margin: 30px 0; /* More vertical space */
        }
        
        .metric-card {
            background: linear-gradient(135deg, var(--accent), var(--accent-darker));
            color: white;
            padding: 25px;
            border-radius: 12px; /* Consistent radius */
            text-align: center;
            box-shadow: 0 8px 20px var(--button-shadow-color); /* Softer initial shadow */
            transform: translateY(0);
            transition: all 0.3s ease;
            border: none;
        }
        
        .metric-card:hover {
            transform: translateY(-7px); /* More pronounced lift */
            box-shadow: 0 0 25px var(--accent), 0 15px 40px var(--button-hover-shadow-color); /* Added glow effect */
        }
        
        .metric-value {
            font-size: 2.8em; /* Larger value */
            font-weight: 800; /* Bolder value */
            margin-bottom: 5px;
        }
        
        .metric-label {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .chart-container {
            position: relative;
            height: 450px; /* Taller charts */
            margin: 30px 0;
            padding: 25px; /* Consistent padding */
        }
        
        .problem-solution {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        
        .problem-box, .solution-box {
            padding: 25px;
            border-left: 5px solid;
            border-radius: 12px; /* Consistent radius */
        }
        
        .problem-box {
            border-color: var(--negative-color);
        }
        
        .solution-box {
            border-color: var(--positive-color);
        }
        
        .highlight-text {
            background: linear-gradient(135deg, var(--accent), var(--accent-darker));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 600;
        }
        
        .key-insights {
            border: 1px solid var(--glass-border); /* Softer border */
            border-radius: 12px; /* Consistent radius */
            padding: 25px;
            margin: 30px 0;
        }
        
        .timeline {
            position: relative;
            padding-left: 30px;
            margin-top: 30px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 3px; /* Thicker line */
            background: linear-gradient(to bottom, var(--accent), var(--accent-darker));
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 35px; /* More space between items */
            padding-left: 45px;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 8px; /* Adjusted position to center dot over line */
            top: 5px;
            width: 18px; /* Larger dot */
            height: 18px;
            border-radius: 50%;
            background: var(--accent);
            box-shadow: 0 0 0 4px var(--card-bg); /* Ring effect */
            transition: all 0.3s ease;
        }

        .timeline-item:hover::before {
            transform: scale(1.2); /* Pop effect on hover */
            background: var(--accent-darker);
        }
        .timeline-item h3 {
            color: var(--text);
            font-weight: 600;
            margin-bottom: 8px;
        }
        .timeline-item p {
            color: var(--neutral-color);
        }
        
        .performance-indicator {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--glass-border); /* Softer border */
            border-radius: 12px;
            padding: 18px 20px; /* More padding */
            margin: 10px 0;
            background-color: var(--card-bg);
            box-shadow: 4px 4px 8px var(--card-shadow-light), -4px -4px 8px var(--card-shadow-dark); /* Slightly more prominent neumorphic shadow */
            transition: all 0.3s ease;
        }
        
        .performance-indicator:hover {
            transform: translateY(-3px);
            box-shadow: 6px 6px 12px var(--card-shadow-light), -6px -6px 12px var(--card-shadow-dark);
        }

        .performance-indicator span:first-child {
            font-weight: 500;
        }
        .performance-indicator span:last-child {
            font-weight: 700;
            font-size: 1.1em;
        }

        .performance-indicator.positive span:last-child {
            color: var(--positive-color);
        }

        .performance-indicator.negative span:last-child {
            color: var(--negative-color);
        }

        .performance-indicator.neutral span:last-child {
            color: var(--neutral-color);
        }

        /* Theme Toggle Switch */
        .theme-toggle-container {
            /* No position:absolute here, handled by flexbox in fixed-header */
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .theme-toggle {
            background: var(--toggle-bg);
            border: none;
            border-radius: 20px;
            width: 50px;
            height: 28px;
            position: relative;
            cursor: pointer;
            outline: none;
            transition: background-color 0.3s ease;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            box-shadow: inset 2px 2px 5px var(--neumorphic-inset-light), inset -2px -2px 5px var(--neumorphic-inset-dark); /* Neumorphic toggle */
        }

        .theme-toggle::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--toggle-circle);
            top: 4px;
            left: 4px;
            transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 2px 2px 5px var(--toggle-shadow);
        }

        html[data-theme='dark'] .theme-toggle::before {
            transform: translateX(22px);
        }
        /* Font Awesome for icons */
        .theme-toggle i {
            position: absolute;
            font-size: 1em;
            line-height: 1;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .theme-toggle .fa-sun {
            left: 6px;
            top: 5px;
            color: #FFD700; /* Gold for sun */
            opacity: 1;
            transform: scale(1);
        }
        .theme-toggle .fa-moon {
            right: 6px;
            top: 5px;
            color: #A0B2C9; /* Silvery blue for moon */
            opacity: 0;
            transform: scale(0.8);
        }

        html[data-theme='dark'] .theme-toggle .fa-sun {
            opacity: 0;
            transform: scale(0.8) translateX(-10px);
        }

        html[data-theme='dark'] .theme-toggle .fa-moon {
            opacity: 1;
            transform: scale(1) translateX(10px);
        }

        /* Language Toggle Controls */
        .lang-toggle-container {
            /* No position:absolute here, handled by flexbox in fixed-header */
            display: flex;
            border-radius: 12px; /* Consistent radius */
            overflow: hidden;
            box-shadow: inset 2px 2px 5px var(--neumorphic-inset-light), inset -2px -2px 5px var(--neumorphic-inset-dark);
        }

        .lang-button {
            background-color: var(--card-bg);
            border: none;
            padding: 0.6rem 1rem; /* Slightly larger padding */
            cursor: pointer;
            color: var(--text);
            transition: background-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
            font-weight: 500;
            font-size: 0.9em;
        }
        .lang-button:first-child {
            border-top-left-radius: 12px;
            border-bottom-left-radius: 12px;
        }
        .lang-button:last-child {
            border-top-right-radius: 12px;
            border-bottom-right-radius: 12px;
        }
        .lang-button.active {
            background-color: var(--accent);
            color: white;
            box-shadow: inset 2px 2px 5px var(--button-shadow-color), inset -2px -2px 5px var(--neumorphic-inset-dark);
        }
        .lang-button:hover:not(.active) {
            background-color: var(--scroll-bg); /* Use scroll-bg for subtle hover */
        }

        /* Hide content based on language */
        .content-en, .content-id {
            display: none;
            transition: opacity 0.3s ease; /* Fade transition for content */
        }
        .content-en.active, .content-id.active {
            display: block;
            animation: fadeIn 0.5s ease-out; /* Fade in animation */
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero Image Styles */
        .hero-image-wrapper {
            width: 250px; /* Fixed width for the square container */
            height: 250px; /* Fixed height for a perfect square */
            margin: 20px auto; /* Center and add margin */
            position: relative;
            overflow: hidden; /* Hide parts of image if not perfectly square */
            border-radius: 16px; /* Match panel radius */
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); /* Soft shadow for the container */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .hero-image-wrapper:hover {
            transform: scale(1.03);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .hero-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* Crops image to fit the square container */
            border-radius: 0; /* Ensures square shape within the wrapper */
            display: block;
        }

        /* Footer styles */
        .page-footer {
            text-align: center;
            padding: 20px;
            margin-top: 50px;
            color: var(--neutral-color);
            font-size: 0.85em;
            border-top: 1px solid var(--glass-border);
            background-color: var(--card-bg);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        @media (max-width: 768px) {
            body {
                padding-top: 90px; /* Adjust for smaller fixed header */
            }
            .fixed-header {
                flex-direction: column;
                align-items: flex-start;
                padding: 10px;
                gap: 5px;
            }
            .header-left, .header-right {
                width: 100%;
                justify-content: space-between;
            }
            .problem-solution {
                grid-template-columns: 1fr;
            }
            
            .report-title {
                font-size: 2em;
            }
            
            .report-subtitle {
                font-size: 1.1em; /* Smaller subtitle on mobile */
            }

            .section-title {
                font-size: 1.6em; /* Smaller section title on mobile */
            }

            .metrics-grid {
                grid-template-columns: 1fr;
            }

            .metric-value {
                font-size: 2.2em; /* Smaller metric value on mobile */
            }

            .metric-label {
                font-size: 1em; /* Smaller metric label on mobile */
            }

            .lang-toggle-container, .theme-toggle-container {
                position: static; /* Ensure they behave within flex column */
                top: auto;
                left: auto;
                right: auto;
                margin: 0;
            }
            .section {
                padding: 15px; /* Reduce padding on small screens */
            }
            .chart-container {
                height: 300px; /* Adjust height for mobile */
                padding: 10px;
            }
            .hero-image-wrapper {
                width: 150px; /* Smaller square image on mobile */
                height: 150px;
                margin: 15px auto; /* Adjust margin for mobile */
            }
            .problem-box, .solution-box, .key-insights, .timeline-item {
                padding: 15px; /* Adjust padding for mobile */
            }
            .timeline-item::before {
                left: 5px; /* Adjust dot position on mobile */
                width: 15px;
                height: 15px;
            }
            .timeline {
                padding-left: 20px; /* Adjust timeline line position on mobile */
            }
        }
    </style>
</head>
<body>
    <div class="fixed-header">
        <div class="header-left">
            <a href="https://hadibandas.github.io/my-portfolio-june25/" target="_blank" class="header-title">
                Mahasin Hadiyatulloh - Cross Voucher Heritage x Wheels
            </a>
        </div>
        <div class="header-right">
            <div class="lang-toggle-container">
                <button class="lang-button" data-lang="en" id="lang-en">EN</button>
                <button class="lang-button" data-lang="id" id="lang-id">ID</button>
            </div>
            <div class="theme-toggle-container">
                <button class="theme-toggle" aria-label="Toggle theme" id="theme-toggle">
                    <i class="fas fa-sun"></i>
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Hero Image Placement -->
    <div class="hero-image-wrapper">
        <img src="https://raw.githubusercontent.com/HadiBandas/my-portfolio-june25/main/image/Hadi1.webp" alt="[Image of Mahasin Hadiyatulloh]" class="hero-image" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e0e0e0/333333?text=Profile+Image';">
    </div>

    <div class="container">
        <div id="en-content" class="content-en">
            <div class="report-header neumorphic-panel">
                <h1 class="report-title">Strategic Cross-Promotion Initiative</h1>
                <p class="report-subtitle">Transforming Traffic Challenges into Revenue Growth Through Strategic Partnership</p>
                <div class="author-info">
                    Mahasin Hadiyatulloh | Marketing Professional | Heritage Factory Outlet
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Executive Summary</h2>
                <p>This report outlines a highly successful cross-promotion between Heritage Factory Outlet Bintaro and Wheels Coffee Roastery. Following Heritage's relocation from a 3000m² standalone building to a 300m² first-floor space (above Wheels Coffee), the program strategically leveraged ground-floor traffic. It achieved <span class="highlight-text">134% of target revenue</span> and operated <span class="highlight-text">53% below budget</span>, showcasing effective customer conversion and flow management.</p>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value" data-target="134">0%</div>
                        <div class="metric-label">Revenue Target Achievement</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" data-target="236">0%</div>
                        <div class="metric-label">Profit Target Achievement</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" data-target="27">0%</div>
                        <div class="metric-label">Total Outlet Revenue Contribution</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" data-target="142">0%</div>
                        <div class="metric-label">Average Order Value Increase</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" data-target="193.6">0%</div>
                        <div class="metric-label">ROI (Program)</div>
                    </div>
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Challenge Analysis</h2>
                <p>Heritage Factory Outlet's relocation from a 3000m² building to a 300m² first-floor space (above Wheels Coffee) led to a critical traffic challenge. Despite a **400%+ increase** in total building traffic due to Wheels Coffee on the ground floor, direct visits to Heritage proportionally decreased. This necessitated a strategic intervention to redirect ground-floor traffic upstairs.</p>
                
                <div class="problem-solution">
                    <div class="problem-box neumorphic-panel">
                        <h3 style="color: var(--negative-color); margin-bottom: 15px;">The Challenge</h3>
                        <p>Heritage Factory Outlet relocated from a 3000m² standalone building to a 300m² first-floor space. Despite total building traffic increasing by **over 400%** (driven by ground-floor Wheels Coffee), direct traffic to Heritage proportionally decreased. This anomaly highlighted an urgent need to redirect ground-floor visitors to the first-floor outlet.</p>
                    </div>
                    <div class="solution-box neumorphic-panel">
                        <h3 style="color: var(--positive-color); margin-bottom: 15px;">The Opportunity</h3>
                        <p>Despite fewer direct visitors, the conversion rate surged from <strong>17% to 56%</strong>, indicating high-quality visitors. The opportunity was clear: effectively channel Wheels Coffee's dominant ground-floor traffic (96% of building visitors) *upwards* to become Heritage customers on the first floor.</p>
                    </div>
                </div>

                <div class="chart-container neumorphic-panel glass-panel">
                    <canvas id="trafficChartEN"></canvas>
                </div>

                <div class="key-insights neumorphic-panel">
                    <h3 style="margin-bottom: 15px;">Key Insights from Data Analysis</h3>
                    <div class="performance-indicator positive">
                        <span><strong>Building Traffic Growth:</strong> Over 400% increase in visitors</span>
                        <span>↑ Significant</span>
                    </div>
                    <div class="performance-indicator negative">
                        <span><strong>Direct Outlet Traffic:</strong> Reduced percentage of total traffic</span>
                        <span>↓ Proportionally decreased</span>
                    </div>
                    <div class="performance-indicator positive">
                        <span><strong>Conversion Rate:</strong> 56% (from 17%)</span>
                        <span>↑ 229%</span>
                    </div>
                    <div class="performance-indicator neutral">
                        <span><strong>Wheels Coffee Dominance:</strong> Accounts for 96% of building visitors</span>
                        <span>Untapped potential</span>
                    </div>
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Strategic Implementation</h2>
                <p>The solution involved developing and executing a comprehensive cross-promotion program as a strategic bridge. My role covered the entire project lifecycle, from analysis to evaluation.</p>
                
                <div class="timeline">
                    <div class="timeline-item">
                        <h3>Data Analysis & Program Design</h3>
                        <p>Conducted comprehensive traffic analysis to identify collaboration opportunities and designed a voucher-based discount mechanism to incentivize cross-shopping behavior.</p>
                    </div>
                    <div class="timeline-item">
                        <h3>Cross-Functional Coordination</h3>
                        <p>Led intensive coordination sessions with both Heritage Factory Outlet and Wheels Coffee teams to ensure unified understanding of objectives and seamless execution processes.</p>
                    </div>
                    <div class="timeline-item">
                        <h3>Distribution Optimization</h3>
                        <p>Implemented strategic voucher distribution protocols with Wheels Coffee staff to ensure targeted reach to high-potential customers and maximize program penetration.</p>
                    </div>
                    <div class="timeline-item">
                        <h3>Service Excellence Training</h3>
                        <p>Collaborated with the operational team to train Heritage staff on voucher redemption processes and upselling techniques to maximize transaction values.</p>
                    </div>
                    <div class="timeline-item">
                        <h3>Performance Monitoring System</h3>
                        <p>Established weekly reporting and evaluation systems for real-time performance tracking and rapid response to operational challenges.</p>
                    </div>
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Results & Business Impact</h2>
                <p>The program (April 28 - May 31, 2025) delivered exceptional results, significantly exceeding targets and validating the strategic approach.</p>

                <div class="chart-container neumorphic-panel glass-panel">
                    <canvas id="resultsChartEN"></canvas>
                </div>

                <div class="key-insights neumorphic-panel">
                    <h3 style="margin-bottom: 15px;">Financial Performance Highlights</h3>
                    <div class="performance-indicator positive">
                        <span><strong>Revenue Target Achievement:</strong> 134% of target</span>
                        <span>↑ Exceeded</span>
                    </div>
                    <div class="performance-indicator positive">
                        <span><strong>Program Costs:</strong> 53% under budget</span>
                        <span>↓ Efficient</span>
                    </div>
                    <div class="performance-indicator positive">
                        <span><strong>Net Profit Target Achievement:</strong> 236% of target</span>
                        <span>↑ Strong</span>
                    </div>
                    <div class="performance-indicator neutral">
                        <span><strong>Revenue Contribution:</strong> 27% of total outlet sales</span>
                        <span>Critical impact</span>
                    </div>
                    <div class="performance-indicator positive">
                        <span><strong>Program ROI:</strong> 193.6%</span>
                        <span>↑ Excellent Return</span>
                    </div>
                </div>

                <div class="chart-container neumorphic-panel glass-panel">
                    <canvas id="customerBehaviorChartEN"></canvas>
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Strategic Impact & Learning</h2>
                <p>Beyond financial success, this initiative offered valuable insights into customer behavior and validated cross-tenant collaboration effectiveness.</p>
                
                <div class="key-insights neumorphic-panel">
                    <h3 style="margin-bottom: 15px;">Customer Behavior Transformation</h3>
                    <p>The program successfully transformed low-spending Wheels customers into high-value Heritage shoppers, increasing average order values by 142%. This highlights effective cross-promotion in elevating spending and driving traffic to the less visible first floor.</p>
                    
                    <h3 style="margin-bottom: 15px; margin-top: 25px;">Geographic Market Insights</h3>
                    <p>Analysis revealed that 47% of program revenue originated from Bintaro residents, providing crucial demographic intelligence for future marketing campaigns and confirming the importance of local market penetration strategies.</p>
                    
                    <h3 style="margin-bottom: 15px; margin-top: 25px;">Operational Validation</h3>
                    <p>With a 43% voucher redemption rate, the program demonstrated that large-scale traffic from complementary businesses can be effectively converted into measurable sales through well-designed incentive mechanisms.</p>
                </div>

                <div class="chart-container neumorphic-panel glass-panel">
                    <canvas id="geographicChartEN"></canvas>
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Conclusion & Future Applications</h2>
                <p>This cross-promotion marks a paradigm shift in leveraging adjacent business traffic for revenue growth, especially during relocation challenges to less prominent spots. The program validates converting existing building traffic, even across floors, over costly external acquisition.</p>
                
                <p style="margin-top: 20px;">The exceptional ROI and 27% contribution to total outlet revenue during the period underscore the scalable potential of this collaborative model. It not only resolved declining traffic from relocation but also created a replicable framework for driving customer flow from busy ground floors to upper levels at other Heritage locations.</p>
                
                <div class="key-insights neumorphic-panel">
                    <h3 style="margin-bottom: 15px;">Key Success Factors</h3>
                    <p><strong>Data-Driven Decision Making:</strong> Comprehensive traffic analysis enabled precise targeting and resource allocation.</p>
                    <p><strong>Cross-Functional Leadership:</strong> Effective coordination across multiple teams ensured seamless execution.</p>
                    <p><strong>Performance Monitoring:</strong> Weekly evaluation systems enabled real-time optimization and risk mitigation.</p>
                    <p><strong>Customer Experience Focus:</strong> Emphasis on service quality maintained brand standards while driving conversions.</p>
                </div>
            </div>
        </div>

        <div id="id-content" class="content-id">
            <div class="report-header neumorphic-panel">
                <h1 class="report-title">Inisiatif Promosi Silang Strategis</h1>
                <p class="report-subtitle">Mengubah Tantangan Lalu Lintas Menjadi Pertumbuhan Pendapatan Melalui Kemitraan Strategis</p>
                <div class="author-info">
                    Mahasin Hadiyatulloh | Profesional Pemasaran | Heritage Factory Outlet
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Ringkasan Eksekutif</h2>
                <p>Laporan ini merinci inisiatif promosi silang yang sangat sukses antara Heritage Factory Outlet Bintaro dan Wheels Coffee Roastery. Menyusul relokasi Heritage dari gedung mandiri 3000m² ke ruang 300m² di lantai satu (di atas Wheels Coffee), program ini secara strategis memanfaatkan lalu lintas lantai dasar. Program ini mencapai <span class="highlight-text">134% dari target pendapatan</span> dan beroperasi <span class="highlight-text">53% di bawah anggaran</span>, menunjukkan konversi pelanggan yang efektif dan pengelolaan aliran pengunjung.</p>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value" data-target="134">0%</div>
                        <div class="metric-label">Pencapaian Target Pendapatan</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" data-target="236">0%</div>
                        <div class="metric-label">Pencapaian Target Keuntungan</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" data-target="27">0%</div>
                        <div class="metric-label">Kontribusi Pendapatan Outlet Total</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" data-target="142">0%</div>
                        <div class="metric-label">Peningkatan Nilai Pesanan Rata-rata</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" data-target="193.6">0%</div>
                        <div class="metric-label">ROI (Program)</div>
                    </div>
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Analisis Tantangan</h2>
                <p>Relokasi Heritage Factory Outlet dari gedung 3000m² ke ruang 300m² di lantai satu (di atas Wheels Coffee) menciptakan tantangan lalu lintas krusial. Meskipun lalu lintas total gedung meningkat **lebih dari 400%** berkat Wheels Coffee di lantai dasar, jumlah pengunjung langsung ke Heritage secara proporsional menurun. Ini menuntut intervensi strategis untuk mengarahkan lalu lintas lantai dasar ke atas.</p>
                <div class="problem-solution">
                    <div class="problem-box neumorphic-panel">
                        <h3 style="color: var(--negative-color); margin-bottom: 15px;">Tantangan</h3>
                        <p>Heritage Factory Outlet berpindah dari gedung mandiri 3000m² ke ruang 300m² di lantai satu. Meskipun lalu lintas total gedung meningkat **lebih dari 400%** (didominasi Wheels Coffee di lantai dasar), lalu lintas langsung ke Heritage secara proporsional menurun. Anomali ini menunjukkan kebutuhan mendesak untuk mengarahkan pengunjung lantai dasar ke outlet di lantai satu.</p>
                    </div>
                    <div class="solution-box neumorphic-panel">
                        <h3 style="color: var(--positive-color); margin-bottom: 15px;">Peluang</h3>
                        <p>Meskipun pengunjung langsung berkurang, tingkat konversi melonjak dari <strong>17% menjadi 56%</strong>, menandakan pengunjung berkualitas tinggi. Peluangnya jelas: secara efektif menyalurkan lalu lintas dominan Wheels Coffee di lantai dasar (96% pengunjung gedung) *ke atas* untuk menjadi pelanggan Heritage di lantai satu.</p>
                    </div>
                </div>

                <div class="chart-container neumorphic-panel glass-panel">
                    <canvas id="trafficChartID"></canvas>
                </div>

                <div class="key-insights neumorphic-panel">
                    <h3 style="margin-bottom: 15px;">Wawasan Utama dari Analisis Data</h3>
                    <div class="performance-indicator positive">
                        <span><strong>Pertumbuhan Lalu Lintas Gedung:</strong> Peningkatan pengunjung lebih dari 400%</span>
                        <span>↑ Signifikan</span>
                    </div>
                    <div class="performance-indicator negative">
                        <span><strong>Lalu Lintas Langsung Outlet:</strong> Persentase lalu lintas total yang berkurang</span>
                        <span>↓ Menurun secara proporsional</span>
                    </div>
                    <div class="performance-indicator positive">
                        <span><strong>Tingkat Konversi:</strong> 56% (from 17%)</span>
                        <span>↑ 229%</span>
                    </div>
                    <div class="performance-indicator neutral">
                        <span><strong>Dominasi Wheels Coffee:</strong> Menyumbang 96% dari pengunjung gedung</span>
                        <span>Potensi yang belum dimanfaatkan</span>
                    </div>
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Implementasi Strategis</h2>
                <p>Solusinya melibatkan pengembangan dan pelaksanaan program promosi silang sebagai jembatan strategis. Peran saya meliputi seluruh siklus proyek, dari analisis hingga evaluasi.</p>
                
                <div class="timeline">
                    <div class="timeline-item">
                        <h3>Analisis Data & Desain Program</h3>
                        <p>Melakukan analisis lalu lintas komprehensif untuk mengidentifikasi peluang kolaborasi dan merancang mekanisme diskon berbasis voucher untuk mendorong perilaku belanja silang.</p>
                    </div>
                    <div class="timeline-item">
                        <h3>Koordinasi Lintas Fungsi</h3>
                        <p>Memimpin sesi koordinasi intensif dengan tim Heritage Factory Outlet dan Wheels Coffee untuk memastikan pemahaman tujuan yang terpadu dan proses pelaksanaan yang mulus.</p>
                    </div>
                    <div class="timeline-item">
                        <h3>Optimalisasi Distribusi</h3>
                        <p>Menerapkan protokol distribusi voucher strategis dengan staf Wheels Coffee untuk memastikan jangkauan yang ditargetkan kepada pelanggan berpotensi tinggi dan memaksimalkan penetrasi program.</p>
                    </div>
                    <div class="timeline-item">
                        <h3>Pelatihan Keunggulan Layanan</h3>
                        <p>Berkoordinasi dengan tim operasional untuk melatih staf Heritage tentang proses penukaran voucher dan teknik upselling untuk memaksimalkan nilai transaksi.</p>
                    </div>
                    <div class="timeline-item">
                        <h3>Sistem Pemantauan Kinerja</h3>
                        <p>Membangun sistem pelaporan dan evaluasi mingguan untuk pelacakan kinerja waktu nyata dan respons cepat terhadap tantangan operasional.</p>
                    </div>
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Hasil & Dampak Bisnis</h2>
                <p>Program ini (28 April - 31 Mei 2025) memberikan hasil luar biasa, melampaui target secara signifikan dan memvalidasi pendekatan strategis.</p>

                <div class="chart-container neumorphic-panel glass-panel">
                    <canvas id="resultsChartID"></canvas>
                </div>

                <div class="key-insights neumorphic-panel">
                    <h3 style="margin-bottom: 15px;">Sorotan Kinerja Keuangan</h3>
                    <div class="performance-indicator positive">
                        <span><strong>Pencapaian Target Pendapatan:</strong> 134% dari target</span>
                        <span>↑ Terlampaui</span>
                    </div>
                    <div class="performance-indicator positive">
                        <span><strong>Biaya Program:</strong> 53% di bawah anggaran</span>
                        <span>↓ Efisien</span>
                    </div>
                    <div class="performance-indicator positive">
                        <span><strong>Pencapaian Target Laba Bersih:</strong> 236% dari target</span>
                        <span>↑ Kuat</span>
                    </div>
                    <div class="performance-indicator neutral">
                        <span><strong>Kontribusi Pendapatan:</strong> 27% dari total penjualan outlet</span>
                        <span>Dampak kritis</span>
                    </div>
                    <div class="performance-indicator positive">
                        <span><strong>ROI Program:</strong> 193.6%</span>
                        <span>↑ Pengembalian Luar Biasa</span>
                    </div>
                </div>

                <div class="chart-container neumorphic-panel glass-panel">
                    <canvas id="customerBehaviorChartID"></canvas>
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Dampak Strategis & Pembelajaran</h2>
                <p>Selain keberhasilan finansial, inisiatif ini memberikan wawasan berharga tentang perilaku pelanggan dan memvalidasi efektivitas kolaborasi lintas penyewa.</p>
                
                <div class="key-insights neumorphic-panel">
                    <h3 style="margin-bottom: 15px;">Transformasi Perilaku Pelanggan</h3>
                    <p>Program ini berhasil mengubah pelanggan Wheels dengan pengeluaran rendah menjadi pembeli Heritage bernilai tinggi, meningkatkan nilai pesanan rata-rata sebesar 142%. Ini menyoroti efektivitas promosi silang dalam meningkatkan pengeluaran dan mengarahkan lalu lintas ke lantai satu yang kurang terlihat.</p>
                    
                    <h3 style="margin-bottom: 15px; margin-top: 25px;">Wawasan Pasar Geografis</h3>
                    <p>Analisis mengungkapkan bahwa 47% dari pendapatan program berasal dari penduduk Bintaro, memberikan intelijen demografi penting untuk kampanye pemasaran di masa mendatang dan mengkonfirmasi pentingnya strategi penetrasi pasar lokal.</p>
                    
                    <h3 style="margin-bottom: 15px; margin-top: 25px;">Validasi Operasional</h3>
                    <p>Dengan tingkat penukaran voucher sebesar 43%, program ini menunjukkan bahwa lalu lintas skala besar dari bisnis pelengkap dapat secara efektif diubah menjadi penjualan terukur melalui mekanisme insentif yang dirancang dengan baik.</p>
                </div>

                <div class="chart-container neumorphic-panel glass-panel">
                    <canvas id="geographicChartID"></canvas>
                </div>
            </div>

            <div class="section neumorphic-panel">
                <h2 class="section-title">Kesimpulan & Aplikasi Masa Depan</h2>
                <p>Promosi silang ini menandai perubahan paradigma dalam memanfaatkan lalu lintas bisnis yang berdekatan untuk pertumbuhan pendapatan, terutama saat relokasi ke lokasi yang kurang menonjol. Program ini memvalidasi konversi lalu lintas gedung, bahkan antar lantai, dibandingkan akuisisi eksternal yang mahal.</p>
                
                <p style="margin-top: 20px;">ROI yang luar biasa dan kontribusi 27% terhadap total pendapatan outlet selama periode ini menggarisbawahi potensi skalabel model kolaborasi ini. Ini tidak hanya mengatasi penurunan lalu lintas akibat relokasi tetapi juga menciptakan kerangka kerja yang dapat direplikasi untuk kemitraan serupa di lokasi Heritage lainnya, membuktikan kelayakan mengarahkan aliran pelanggan dari lantai dasar yang ramai ke lantai atas.</p>
                
                <div class="key-insights neumorphic-panel">
                    <h3 style="margin-bottom: 15px;">Faktor-faktor Kunci Keberhasilan</h3>
                    <p><strong>Pengambilan Keputusan Berbasis Data:</strong> Analisis lalu lintas komprehensif memungkinkan penargetan dan alokasi sumber daya yang tepat.</p>
                    <p><strong>Kepemimpinan Lintas Fungsi:</strong> Koordinasi yang efektif di berbagai tim memastikan seamless execution.</p>
                    <p><strong>Pemantauan Kinerja:</strong> Sistem evaluasi mingguan memungkinkan optimasi waktu nyata dan mitigasi risiko.</p>
                    <p><strong>Fokus Pengalaman Pelanggan:</strong> Emphasis on service quality maintained brand standards while driving conversions.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer for copyright -->
    <footer class="page-footer">
        <span class="footer-copyright">© 2025 Mahasin Hadiyatulloh</span>
    </footer>

    <script>
        // --- Chart Data & Configuration (using percentages) ---
        let charts = {}; // Store chart instances

        const chartConfig = {
            traffic: {
                en: {
                    labels: ['Before Relocation', 'After Relocation'],
                    datasets: [
                        { label: 'Total Building Traffic (Relative)', data: [100, 511], backgroundColor: ['var(--accent)', 'var(--accent-darker)'], borderColor: ['var(--accent)', 'var(--accent-darker)'] }
                    ],
                    title: 'Traffic Analysis: Before vs After Relocation (Percentages)'
                },
                id: {
                    labels: ['Sebelum Relokasi', 'Setelah Relokasi'],
                    datasets: [
                        { label: 'Total Lalu Lintas Gedung (Relatif)', data: [100, 511], backgroundColor: ['var(--accent)', 'var(--accent-darker)'], borderColor: ['var(--accent)', 'var(--accent-darker)'] }
                    ],
                    title: 'Analisis Lalu Lintas: Sebelum vs Setelah Relokasi (Persentase)'
                }
            },
            results: {
                en: {
                    labels: ['Program Revenue', 'Other Revenue'],
                    datasets: [{
                        data: [27, 73], // 27% of total revenue from program
                        backgroundColor: ['var(--accent)', 'var(--neutral-color)'],
                        borderColor: ['var(--accent)', 'var(--neutral-color)']
                    }],
                    title: 'Program Revenue Contribution (27% of Total)'
                },
                id: {
                    labels: ['Pendapatan Program', 'Pendapatan Lainnya'],
                    datasets: [{
                        data: [27, 73],
                        backgroundColor: ['var(--accent)', 'var(--neutral-color)'],
                        borderColor: ['var(--accent)', 'var(--neutral-color)']
                    }],
                    title: 'Kontribusi Pendapatan Program (27% dari Total)'
                }
            },
            customerBehavior: {
                en: {
                    labels: ['Wheels Coffee AOV (Relative)', 'Heritage FO AOV (via program - Relative)'],
                    datasets: [{
                        label: 'Average Order Value (Relative to Base)',
                        data: [100, 242], // 100% base, 142% increase means 242% of base
                        backgroundColor: ['var(--negative-color)', 'var(--positive-color)'],
                        borderColor: ['var(--negative-color)', 'var(--positive-color)']
                    }],
                    title: 'Customer Spending Behavior Transformation (+142%)'
                },
                id: {
                    labels: ['AOV Wheels Coffee (Relatif)', 'AOV Heritage FO (melalui program - Relatif)'],
                    datasets: [{
                        label: 'Nilai Pesanan Rata-rata (Relatif terhadap Dasar)',
                        data: [100, 242],
                        backgroundColor: ['var(--negative-color)', 'var(--positive-color)'],
                        borderColor: ['var(--negative-color)', 'var(--positive-color)']
                    }],
                    title: 'Transformasi Perilaku Belanja Pelanggan (+142%)'
                }
            },
            geographic: {
                en: {
                    labels: ['Bintaro', 'Jakarta', 'BSD', 'Other Areas'], /* UPDATED LABELS */
                    datasets: [{
                        data: [47, 15, 9, 29], /* UPDATED DATA */
                        backgroundColor: ['var(--accent)', 'var(--accent-darker)', 'var(--positive-color)', 'var(--neutral-color)'], /* UPDATED COLORS */
                        borderColor: ['var(--accent)', 'var(--accent-darker)', 'var(--positive-color)', 'var(--neutral-color)'] /* UPDATED COLORS */
                    }],
                    title: 'Revenue Distribution by Customer Location (%)'
                },
                id: {
                    labels: ['Bintaro', 'Jakarta', 'BSD', 'Area Lain'], /* UPDATED LABELS */
                    datasets: [{
                        data: [47, 15, 9, 29], /* UPDATED DATA */
                        backgroundColor: ['var(--accent)', 'var(--accent-darker)', 'var(--positive-color)', 'var(--neutral-color)'], /* UPDATED COLORS */
                        borderColor: ['var(--accent)', 'var(--accent-darker)', 'var(--positive-color)', 'var(--neutral-color)'] /* UPDATED COLORS */
                    }],
                    title: 'Distribusi Pendapatan berdasarkan Lokasi Pelanggan (%)'
                }
            }
        };

        // --- Global Chart.js Defaults for Modern Look ---
        Chart.defaults.font.family = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";
        Chart.defaults.plugins.tooltip.enabled = true; // Enable tooltips
        Chart.defaults.plugins.legend.labels.boxWidth = 20; // Smaller legend boxes
        Chart.defaults.plugins.legend.labels.padding = 15; // More padding for legend labels

        Chart.defaults.elements.bar.borderRadius = 6; // Rounded corners for bars
        Chart.defaults.elements.bar.borderSkipped = false; // Prevent skipping borders
        Chart.defaults.elements.arc.borderWidth = 2; // Border for pie/doughnut slices

        // Animation for charts
        Chart.defaults.animation = {
            duration: 1000,
            easing: 'easeInOutQuad'
        };


        // --- Theme Toggling Logic ---
        const themeToggle = document.getElementById('theme-toggle');
        const htmlElement = document.documentElement;

        // Apply saved theme or detect OS preference on page load
        const applyThemeOnLoad = () => {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                htmlElement.setAttribute('data-theme', savedTheme);
            } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                htmlElement.setAttribute('data-theme', 'dark');
            } else {
                htmlElement.setAttribute('data-theme', 'light');
            }
            // Update chart colors immediately after theme is set
            updateChartColors();
        };

        // Function to toggle theme and update local storage
        const toggleTheme = () => {
            const currentTheme = htmlElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            htmlElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateChartColors(); // Update chart colors on theme change
        };

        // Add event listener for theme toggle button
        themeToggle.addEventListener('click', toggleTheme);

        // --- Language Toggling Logic ---
        const langIdButton = document.getElementById('lang-id');
        const langEnButton = document.getElementById('lang-en');
        const enContent = document.getElementById('en-content');
        const idContent = document.getElementById('id-content');

        const setLanguage = (lang) => {
            if (lang === 'en') {
                enContent.classList.add('active');
                idContent.classList.remove('active');
            } else {
                idContent.classList.add('active');
                enContent.classList.remove('active');
            }
            // Update active state for buttons
            langEnButton.classList.toggle('active', lang === 'en');
            langIdButton.classList.toggle('active', lang === 'id');
            updateChartTitles(lang); // Update chart titles based on language
        };

        // Default to English or saved language on DOMContentLoaded
        document.addEventListener('DOMContentLoaded', () => {
            const savedLang = localStorage.getItem('language');
            if (savedLang) {
                setLanguage(savedLang);
            } else {
                setLanguage('en'); // Default language
            }
            applyThemeOnLoad(); // Call theme initialization here as well
            initCharts(localStorage.getItem('language') || 'en'); // Initialize charts
            animateMetricNumbers(); // Call the number animation here
        });
        

        langEnButton.addEventListener('click', () => {
            setLanguage('en');
            localStorage.setItem('language', 'en');
        });

        langIdButton.addEventListener('click', () => {
            setLanguage('id');
            localStorage.setItem('language', 'id');
        });

        // Function to initialize and update charts
        function initCharts(lang) {
            // Destroy existing charts if they exist
            for (const chartId in charts) {
                if (charts[chartId]) {
                    charts[chartId].destroy();
                }
            }

            // Traffic Chart
            const trafficCtxEN = document.getElementById('trafficChartEN').getContext('2d');
            charts.trafficEN = new Chart(trafficCtxEN, {
                type: 'bar',
                data: chartConfig.traffic.en,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { title: { display: true, text: chartConfig.traffic.en.title } },
                    scales: { y: { beginAtZero: true, ticks: { callback: function(value) { return value + '%'; } } } }
                }
            });

            const trafficCtxID = document.getElementById('trafficChartID').getContext('2d');
            charts.trafficID = new Chart(trafficCtxID, {
                type: 'bar',
                data: chartConfig.traffic.id,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { title: { display: true, text: chartConfig.traffic.id.title } },
                    scales: { y: { beginAtZero: true, ticks: { callback: function(value) { return value + '%'; } } } }
                }
            });

            // Results Chart
            const resultsCtxEN = document.getElementById('resultsChartEN').getContext('2d');
            charts.resultsEN = new Chart(resultsCtxEN, {
                type: 'doughnut',
                data: chartConfig.results.en,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { title: { display: true, text: chartConfig.results.en.title }, legend: { position: 'bottom' } }
                }
            });

            const resultsCtxID = document.getElementById('resultsChartID').getContext('2d');
            charts.resultsID = new Chart(resultsCtxID, {
                type: 'doughnut',
                data: chartConfig.results.id,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { title: { display: true, text: chartConfig.results.id.title }, legend: { position: 'bottom' } }
                }
            });

            // Customer Behavior Chart
            const behaviorCtxEN = document.getElementById('customerBehaviorChartEN').getContext('2d');
            charts.customerBehaviorEN = new Chart(behaviorCtxEN, {
                type: 'bar',
                data: chartConfig.customerBehavior.en,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { title: { display: true, text: chartConfig.customerBehavior.en.title } },
                    scales: { y: { beginAtZero: true, ticks: { callback: function(value) { return value + '%'; } } } }
                }
            });

            const behaviorCtxID = document.getElementById('customerBehaviorChartID').getContext('2d');
            charts.customerBehaviorID = new Chart(behaviorCtxID, {
                type: 'bar',
                data: chartConfig.customerBehavior.id,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { title: { display: true, text: chartConfig.customerBehavior.id.title } },
                    scales: { y: { beginAtZero: true, ticks: { callback: function(value) { return value + '%'; } } } }
                }
            });

            // Geographic Distribution Chart
            const geoCtxEN = document.getElementById('geographicChartEN').getContext('2d');
            charts.geographicEN = new Chart(geoCtxEN, {
                type: 'pie',
                data: chartConfig.geographic.en,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { title: { display: true, text: chartConfig.geographic.en.title }, legend: { position: 'bottom' } }
                }
            });

            const geoCtxID = document.getElementById('geographicChartID').getContext('2d');
            charts.geographicID = new Chart(geoCtxID, {
                type: 'pie',
                data: chartConfig.geographic.id,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { title: { display: true, text: chartConfig.geographic.id.title }, legend: { position: 'bottom' } }
                }
            });

            // Ensure charts are updated for the current language
            updateChartTitles(lang);
            // This is important: after charts are initialized, update their colors based on current theme
            updateChartColors(); 
        }

        function updateChartTitles(lang) {
            for (const key in charts) {
                if (charts[key]) {
                    const chartBaseKey = key.replace('EN', '').replace('ID', '');
                    if (chartConfig[chartBaseKey] && chartConfig[chartBaseKey][lang] && charts[key].options.plugins && charts[key].options.plugins.title) {
                        charts[key].options.plugins.title.text = chartConfig[chartBaseKey][lang].title;
                    }
                    charts[key].update();
                }
            }
        }

        // Function to update chart colors dynamically based on theme
        function updateChartColors() {
            const rootStyle = getComputedStyle(document.documentElement);
            
            // Helper to get CSS variable values safely
            const getCssVar = (name) => rootStyle.getPropertyValue(name).trim();

            const accentColor = getCssVar('--accent');
            const accentDarkerColor = getCssVar('--accent-darker');
            const positiveColor = getCssVar('--positive-color');
            const negativeColor = getCssVar('--negative-color');
            const neutralColor = getCssVar('--neutral-color');
            const textColor = getCssVar('--text');
            const textRgbValues = getCssVar('--text-rgb-values');


            // Helper to convert rgb values to rgba with a given alpha
            const toRgba = (rgbString, alpha) => `rgba(${rgbString}, ${alpha})`;

            // Update colors for each chart
            for (const key in charts) {
                if (charts[key]) {
                    const chart = charts[key];
                    const datasets = chart.data.datasets;

                    datasets.forEach(dataset => {
                        // Apply colors directly from CSS variables for more modern look
                        if (key.includes('traffic')) {
                            dataset.backgroundColor = [accentColor, accentDarkerColor];
                            dataset.borderColor = [accentColor, accentDarkerColor];
                        } else if (key.includes('customerBehavior')) {
                            dataset.backgroundColor = [negativeColor, positiveColor];
                            dataset.borderColor = [negativeColor, positiveColor];
                        } else if (key.includes('results')) {
                            dataset.backgroundColor = [accentColor, neutralColor];
                            dataset.borderColor = [accentColor, neutralColor];
                        } else if (key.includes('geographic')) {
                            // Using distinct colors for geographic distribution
                            dataset.backgroundColor = [
                                accentColor,
                                accentDarkerColor,
                                positiveColor,
                                neutralColor
                            ];
                            dataset.borderColor = [
                                accentColor,
                                accentDarkerColor,
                                positiveColor,
                                neutralColor
                            ];
                        }
                    });

                    // Update axis and text colors
                    if (chart.options.plugins && chart.options.plugins.title) {
                        chart.options.plugins.title.color = textColor;
                    }
                    if (chart.options.plugins && chart.options.plugins.legend && chart.options.plugins.legend.labels) {
                        chart.options.plugins.legend.labels.color = textColor;
                    }

                    // Update scale colors
                    if (chart.options.scales) {
                        Object.values(chart.options.scales).forEach(scale => {
                            if (scale.ticks) {
                                scale.ticks.color = textColor;
                            }
                            if (scale.grid) {
                                scale.grid.color = toRgba(textRgbValues, 0.1);
                            }
                            if (scale.border) {
                                scale.border.color = toRgba(textRgbValues, 0.2);
                            }
                        });
                    }

                    chart.update(); // Re-render the chart
                }
            }
        }
        
        // GSAP Number Animation Function
        function animateMetricNumbers() {
            document.querySelectorAll('.metric-value').forEach(el => {
                const targetValue = parseFloat(el.getAttribute('data-target'));
                const isPercentage = el.textContent.includes('%');
                const isDecimal = el.textContent.includes('.');
                const startValue = { value: 0 };

                gsap.to(startValue, {
                    value: targetValue,
                    duration: 1.5,
                    ease: "power3.out",
                    onUpdate: () => {
                        let displayedValue = startValue.value;
                        if (isDecimal) {
                            displayedValue = displayedValue.toFixed(1); // Keep one decimal place
                        } else {
                            displayedValue = Math.round(displayedValue);
                        }
                        el.textContent = displayedValue + (isPercentage ? '%' : '');
                    },
                    onComplete: () => {
                        // Ensure the final value is exactly the target value with correct formatting
                        let finalValue = targetValue;
                        if (isDecimal) {
                            finalValue = finalValue.toFixed(1);
                        } else {
                            finalValue = Math.round(finalValue);
                        }
                        el.textContent = finalValue + (isPercentage ? '%' : '');
                    }
                });
            });
        }

    </script>
</body>
</html>
